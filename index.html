<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Network-map">
    <meta name="copyright" content="Copyright (c) 2024-2026 Network-map. All Rights Reserved.">
    <title>–ö–∞—Ä—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏</title>
    <script src="https://api-maps.yandex.ru/2.1/?apikey=83f18c79-2970-42ba-af02-0e75c05f8829&lang=ru_RU" type="text/javascript"></script>
    <link rel="stylesheet" href="styles.css">
    <!-- –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <script>
        // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
            return false;
        });
        // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
        document.addEventListener('keydown', function(e) {
            // F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U
            if (e.key === 'F12' || 
                (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) ||
                (e.ctrlKey && (e.key === 'U' || e.key === 'u'))) {
                e.preventDefault();
                return false;
            }
        });
        // –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
        document.addEventListener('dragstart', function(e) {
            e.preventDefault();
            return false;
        });
    </script>
    <style>
        /* –ó–∞–ø—Ä–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
        body {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        /* –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ –≤ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞ */
        input, textarea, [contenteditable="true"] {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
    </style>
</head>
<body>
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É -->
    <header class="top-header">
        <div class="top-header-content">
            <div class="header-brand">
                <svg class="header-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                    <circle cx="12" cy="10" r="3"></circle>
                </svg>
                <h1>–ö–∞—Ä—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏</h1>
            </div>
            <!-- –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ä—Ç–µ -->
            <div class="header-search">
                <div class="search-wrapper">
                    <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <input type="text" id="mapSearch" class="search-input" placeholder="–ü–æ–∏—Å–∫ –æ–±—ä–µ–∫—Ç–æ–≤..." autocomplete="off">
                    <button id="clearSearch" class="search-clear" style="display: none;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div id="searchResults" class="search-results" style="display: none;"></div>
            </div>
            <!-- –ü–∞–Ω–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
            <div class="user-panel">
                <div class="user-info" id="userInfo">
                    <div class="user-avatar" id="userAvatar">–ê</div>
                    <div class="user-details">
                        <span class="user-name" id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                        <span class="user-role" id="userRole">–†–æ–ª—å</span>
                    </div>
                </div>
                <div class="user-menu">
                    <button id="themeToggle" class="user-menu-btn theme-toggle" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">
                        <svg class="theme-icon-light" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                        <svg class="theme-icon-dark" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </button>
                    <button id="historyBtn" class="user-menu-btn" title="–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        <span id="historyBadge" class="history-badge" style="display: none;">0</span>
                    </button>
                    <button id="usersManageBtn" class="user-menu-btn admin-only" title="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏" style="display: none;">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                    </button>
                    <button id="logoutBtn" class="user-menu-btn" title="–í—ã–π—Ç–∏">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="sidebar" id="sidebar">
            <div class="sidebar-content">
                <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ -->
                <div class="control-section">
                    <div class="mode-switcher">
                        <button id="viewMode" class="mode-btn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            <span>–ü—Ä–æ—Å–º–æ—Ç—Ä</span>
                        </button>
                        <button id="editMode" class="mode-btn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                            <span>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
                        </button>
                    </div>
                </div>

                <!-- –ê–∫–∫–æ—Ä–¥–µ–æ–Ω –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤ -->
                <div class="accordion-section">
                    <div class="accordion-header" data-accordion="objects">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        <span>–û–±—ä–µ–∫—Ç—ã</span>
                        <svg class="accordion-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="accordion-content" id="objects-content">
                        <div class="form-group">
                            <label for="objectType">–¢–∏–ø –æ–±—ä–µ–∫—Ç–∞</label>
                            <select id="objectType" class="form-select">
                                <option value="support">üì° –û–ø–æ—Ä—ã —Å–≤—è–∑–∏</option>
                                <option value="sleeve">üîå –ö–∞–±–µ–ª—å–Ω—ã–µ –º—É—Ñ—Ç—ã</option>
                                <option value="cross">üì¶ –û–ø—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä–æ—Å—Å</option>
                                <option value="node">üñ•Ô∏è –£–∑–ª—ã —Å–µ—Ç–∏</option>
                            </select>
                        </div>
                        <div class="form-group" id="objectNameGroup" style="display: none;">
                            <label for="objectName">–ò–º—è</label>
                            <input type="text" id="objectName" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
                        </div>
                        <div class="form-group" id="crossSettingsGroup" style="display: none;">
                            <label for="crossPorts">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ç–æ–≤</label>
                            <select id="crossPorts" class="form-select">
                                <option value="4">4 –ø–æ—Ä—Ç–∞</option>
                                <option value="8">8 –ø–æ—Ä—Ç–æ–≤</option>
                                <option value="12">12 –ø–æ—Ä—Ç–æ–≤</option>
                                <option value="16">16 –ø–æ—Ä—Ç–æ–≤</option>
                                <option value="24" selected>24 –ø–æ—Ä—Ç–∞</option>
                                <option value="48">48 –ø–æ—Ä—Ç–æ–≤</option>
                                <option value="96">96 –ø–æ—Ä—Ç–æ–≤</option>
                            </select>
                        </div>
                        <div class="form-group" id="sleeveSettingsGroup" style="display: none;">
                            <label for="sleeveType">–¢–∏–ø –º—É—Ñ—Ç—ã</label>
                            <select id="sleeveType" class="form-select">
                                <option value="SNR-FOSC-04">SNR-FOSC-04 (4 –≤–æ–ª–æ–∫–Ω–∞)</option>
                                <option value="SNR-FOSC-X">SNR-FOSC-X (–∫–æ–º–ø–∞–∫—Ç–Ω–∞—è)</option>
                                <option value="SNR-FOSC-12">SNR-FOSC-12 (12 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="SNR-FOSC-D">SNR-FOSC-D (–¥–æ 24 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="SNR-FOSC-M">SNR-FOSC-M (–¥–æ 48 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="SNR-FOSC-G">SNR-FOSC-G (–¥–æ 72 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="SNR-FOSC-L">SNR-FOSC-L (–¥–æ 96 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="SNR-FOSC-B">SNR-FOSC-B (–¥–æ 144 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="SNR-FOSC-UF2">SNR-FOSC-UF2 (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è)</option>
                                <option value="SNR-FOSC-CV018">SNR-FOSC-CV018 (–∫—É–ø–æ–ª—å–Ω–∞—è)</option>
                                <option value="SNR-FOSC-CV019">SNR-FOSC-CV019 (—Ç—É–ø–∏–∫–æ–≤–∞—è)</option>
                                <option value="SNR-FOSC-CV021">SNR-FOSC-CV021 (96 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="SNR-FOSC-CV028A">SNR-FOSC-CV028A</option>
                                <option value="SNR-FOSC-CV037">SNR-FOSC-CV037</option>
                                <option value="SNR-FOSC-Q-T">SNR-FOSC-Q-T</option>
                                <option value="SNR-FOSC-D-T">SNR-FOSC-D-T</option>
                                <option value="SNR-FOSC-CH009">SNR-FOSC-CH009 (–ø—Ä–æ—Ö–æ–¥–Ω–∞—è)</option>
                                <option value="SNR-FOSC-CH018">SNR-FOSC-CH018 (–ø—Ä–æ—Ö–æ–¥–Ω–∞—è)</option>
                                <option value="SNR-FOSC-CH019">SNR-FOSC-CH019 (–ø—Ä–æ—Ö–æ–¥–Ω–∞—è)</option>
                                <option value="SNR-FOSC-CH025">SNR-FOSC-CH025 (–ø—Ä–æ—Ö–æ–¥–Ω–∞—è)</option>
                                <option value="SNR-FT-E">SNR-FT-E</option>
                                <option value="–ú–í–û–¢-108-3-–¢-1-36">–ú–í–û–¢-108-3-–¢-1-36 (108 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="–ú–í–û–¢-216-4-–¢-1-36">–ú–í–û–¢-216-4-–¢-1-36 (216 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="–ú–í–û–¢-3611-22-32-2–ö16">–ú–í–û–¢-3611-22-32-2–ö16</option>
                                <option value="–ú–û–ì-–£-33-1–ö4845">–ú–û–ì-–£-33-1–ö4845 –°–°–î</option>
                                <option value="–ú–ö–û-–¶8/–°09-5SC">–ú–ö–û-–¶8/–°09-5SC (–∫—Ä–æ—Å—Å-–º—É—Ñ—Ç–∞)</option>
                                <option value="–ú–¢–û–ö-–§3/216-1–ö–¢3645-–ö">–ú–¢–û–ö-–§3/216-1–ö–¢3645-–ö</option>
                                <option value="KSC-MURR">KSC LIGHT PON –ú–£–†–† (–¥–æ 12 –≤–æ–ª–æ–∫–æ–Ω)</option>
                                <option value="101-01-18">101-01-18 (–∫—Ä–æ—Å—Å-–º—É—Ñ—Ç–∞ FTTH, –¥–æ 18SC)</option>
                                <option value="custom">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è</option>
                            </select>
                            <label for="sleeveMaxFibers" style="margin-top: 8px;">–ú–∞–∫—Å. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ª–æ–∫–æ–Ω</label>
                            <input type="number" id="sleeveMaxFibers" class="form-input" placeholder="0" min="0" max="288" value="0">
                            <small style="display: block; margin-top: 5px; color: #666; font-size: 11px;">0 = –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ</small>
                        </div>
                        <button id="addObject" class="btn-primary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É
                        </button>
                    </div>
                </div>

                <!-- –ê–∫–∫–æ—Ä–¥–µ–æ–Ω –¥–ª—è –∫–∞–±–µ–ª–µ–π -->
                <div class="accordion-section">
                    <div class="accordion-header" data-accordion="cables">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                            <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                            <line x1="12" y1="22.08" x2="12" y2="12"></line>
                        </svg>
                        <span>–ö–∞–±–µ–ª–∏</span>
                        <svg class="accordion-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="accordion-content" id="cables-content">
                        <div class="form-group">
                            <label for="cableType">–¢–∏–ø –∫–∞–±–µ–ª—è</label>
                            <select id="cableType" class="form-select">
                                <option value="fiber4">–í–û–õ–° 4 –∂–∏–ª—ã</option>
                                <option value="fiber8">–í–û–õ–° 8 –∂–∏–ª</option>
                                <option value="fiber16">–í–û–õ–° 16 –∂–∏–ª</option>
                                <option value="fiber24">–í–û–õ–° 24 –∂–∏–ª—ã</option>
                                <option value="copper">–ú–µ–¥–Ω—ã–π –∫–∞–±–µ–ª—å</option>
                            </select>
                        </div>
                        <button id="addCable" class="btn-primary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <line x1="12" y1="2" x2="12" y2="22"></line>
                                <line x1="2" y1="12" x2="22" y2="12"></line>
                            </svg>
                            –ü—Ä–æ–ª–æ–∂–∏—Ç—å –∫–∞–±–µ–ª—å
                        </button>
                    </div>
                </div>

                <!-- –ê–∫–∫–æ—Ä–¥–µ–æ–Ω –¥–ª—è NetBox -->
                <div class="accordion-section">
                    <div class="accordion-header" data-accordion="netbox">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                            <line x1="8" y1="21" x2="16" y2="21"></line>
                            <line x1="12" y1="17" x2="12" y2="21"></line>
                        </svg>
                        <span>NetBox</span>
                        <svg class="accordion-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="accordion-content" id="netbox-content">
                        <button id="netboxConfigBtn" class="btn-secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"></circle>
                                <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"></path>
                            </svg>
                            –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
                        </button>
                        <button id="netboxImportBtn" class="btn-secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            –ò–º–ø–æ—Ä—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤
                        </button>
                    </div>
                </div>

                <!-- –ê–∫–∫–æ—Ä–¥–µ–æ–Ω –¥–ª—è —Ñ–∞–π–ª–æ–≤ -->
                <div class="accordion-section">
                    <div class="accordion-header" data-accordion="files">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
                            <polyline points="13 2 13 9 20 9"></polyline>
                        </svg>
                        <span>–§–∞–π–ª—ã</span>
                        <svg class="accordion-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="accordion-content" id="files-content">
                        <input type="file" id="importFile" accept=".json" style="display: none;">
                        <button id="importBtn" class="btn-secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="17 8 12 3 7 8"></polyline>
                                <line x1="12" y1="3" x2="12" y2="15"></line>
                            </svg>
                            –ò–º–ø–æ—Ä—Ç –∫–∞—Ä—Ç—ã
                        </button>
                        <button id="exportData" class="btn-secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            –≠–∫—Å–ø–æ—Ä—Ç –∫–∞—Ä—Ç—ã
                        </button>
                    </div>
                </div>

                <!-- –õ–µ–≥–µ–Ω–¥–∞ -->
                <div class="accordion-section">
                    <div class="accordion-header" data-accordion="legend">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="16" x2="12" y2="12"></line>
                            <line x1="12" y1="8" x2="12.01" y2="8"></line>
                        </svg>
                        <span>–õ–µ–≥–µ–Ω–¥–∞</span>
                        <svg class="accordion-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="accordion-content" id="legend-content">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #00FF00; height: 3px;"></div>
                            <span class="legend-text">–í–û–õ–° 4 –∂–∏–ª—ã</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #00AA00; height: 4px;"></div>
                            <span class="legend-text">–í–û–õ–° 8 –∂–∏–ª</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #008800; height: 5px;"></div>
                            <span class="legend-text">–í–û–õ–° 16 –∂–∏–ª</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #006600; height: 6px;"></div>
                            <span class="legend-text">–í–û–õ–° 24 –∂–∏–ª—ã</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #FF7700; height: 5px;"></div>
                            <span class="legend-text">–ú–µ–¥–Ω—ã–π –∫–∞–±–µ–ª—å</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #22c55e; height: 2px; border-style: dashed;"></div>
                            <span class="legend-text">–ö—Ä–æ—Å—Å ‚Üí –£–∑–µ–ª (–∂–∏–ª–∞)</span>
                        </div>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="stats-section">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-icon" style="background: #22c55e20; color: #22c55e;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="nodeCount">0</div>
                                <div class="stat-label">–£–∑–ª—ã</div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon" style="background: #3b82f620; color: #3b82f6;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="supportCount">0</div>
                                <div class="stat-label">–û–ø–æ—Ä—ã</div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon" style="background: #ef444420; color: #ef4444;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="sleeveCount">0</div>
                                <div class="stat-label">–ú—É—Ñ—Ç—ã</div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon" style="background: #8b5cf620; color: #8b5cf6;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                                    <line x1="9" y1="3" x2="9" y2="21"></line>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="crossCount">0</div>
                                <div class="stat-label">–ö—Ä–æ—Å—Å—ã</div>
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon" style="background: #f59e0b20; color: #f59e0b;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="cableCount">0</div>
                                <div class="stat-label">–ö–∞–±–µ–ª–∏</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –î–µ–π—Å—Ç–≤–∏—è -->
                <div class="actions-section">
                    <button id="deleteSelected" class="btn-danger">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                        –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ
                    </button>
                    <button id="clearAll" class="btn-danger">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                            <line x1="10" y1="11" x2="10" y2="17"></line>
                            <line x1="14" y1="11" x2="14" y2="17"></line>
                        </svg>
                        –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
                    </button>
                </div>
            </div>
        </div>

        <div id="map" class="map"></div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É–∑–ª–µ/–º—É—Ñ—Ç–µ -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—ä–µ–∫—Ç–µ</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div id="modalInfo"></div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ NetBox -->
    <div id="netboxConfigModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ NetBox</h2>
                <span class="close-netbox">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="netboxUrl">URL —Å–µ—Ä–≤–µ—Ä–∞ NetBox:</label>
                    <input type="text" id="netboxUrl" placeholder="https://netbox.example.com" class="form-input">
                </div>
                <div class="form-group">
                    <label for="netboxToken">API Token:</label>
                    <input type="password" id="netboxToken" placeholder="–í–∞—à —Ç–æ–∫–µ–Ω API" class="form-input">
                </div>
                <div class="form-group">
                    <label style="display: flex; align-items: center; cursor: pointer;">
                        <input type="checkbox" id="netboxIgnoreSSL" style="margin-right: 8px; width: auto;">
                        <span>–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞</span>
                    </label>
                    <small style="display: block; margin-top: 5px; color: #666; font-size: 12px;">
                        –í–Ω–∏–º–∞–Ω–∏–µ: –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ SSL —Å–Ω–∏–∂–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ —Å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏.
                    </small>
                </div>
                <div class="form-group">
                    <button id="testNetboxConnection" class="btn-test">–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</button>
                    <button id="saveNetboxConfig" class="btn-save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
                <div id="netboxStatus" class="status-message"></div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏–∑ NetBox -->
    <div id="netboxImportModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2>–ò–º–ø–æ—Ä—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏–∑ NetBox</h2>
                <span class="close-import">&times;</span>
            </div>
            <div class="modal-body">
                <div id="netboxDevicesList"></div>
                <div class="import-actions">
                    <button id="selectAllDevices">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</button>
                    <button id="deselectAllDevices">–°–Ω—è—Ç—å –≤—ã–±–æ—Ä</button>
                    <button id="importSelectedDevices" class="btn-primary">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—ã–±–æ—Ä–∞ —É–∑–ª–∞ —Å–µ—Ç–∏ -->
    <div id="nodeSelectionModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h2>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∂–∏–ª—ã –∫ —É–∑–ª—É</h2>
                <span class="close-node-selection">&times;</span>
            </div>
            <div class="modal-body">
                <div class="node-selection-info">
                    <p id="nodeSelectionFiberInfo"></p>
                </div>
                <div class="form-group">
                    <label for="nodeSearchInput">–ü–æ–∏—Å–∫ —É–∑–ª–∞</label>
                    <div class="node-search-wrapper">
                        <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                        <input type="text" id="nodeSearchInput" class="form-input node-search-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è —É–∑–ª–∞...">
                    </div>
                </div>
                <div class="form-group">
                    <label>–í—ã–±–µ—Ä–∏—Ç–µ —É–∑–µ–ª</label>
                    <div id="nodeListContainer" class="node-list-container">
                        <!-- –°–ø–∏—Å–æ–∫ —É–∑–ª–æ–≤ –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                <div class="node-selection-actions">
                    <button id="cancelNodeSelection" class="btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
    <div id="usersModal" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                <span class="close-users">&times;</span>
            </div>
            <div class="modal-body">
                <!-- –ó–∞—è–≤–∫–∏ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é -->
                <div id="pendingUsersSection" class="pending-users-section" style="display: none;">
                    <h3 class="section-title">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        –ó–∞—è–≤–∫–∏ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
                        <span id="pendingCount" class="pending-badge">0</span>
                    </h3>
                    <div id="pendingUsersList" class="users-list">
                        <!-- –ó–∞—è–≤–∫–∏ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
                
                <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ -->
                <h3 class="section-title" style="margin-top: 16px;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                        <circle cx="9" cy="7" r="4"></circle>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg>
                    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
                </h3>
                <div class="users-actions">
                    <button id="addUserBtn" class="btn-primary">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="8.5" cy="7" r="4"></circle>
                            <line x1="20" y1="8" x2="20" y2="14"></line>
                            <line x1="23" y1="11" x2="17" y2="11"></line>
                        </svg>
                        –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    </button>
                </div>
                <div id="usersList" class="users-list">
                    <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div id="userEditModal" class="modal">
        <div class="modal-content" style="max-width: 450px;">
            <div class="modal-header">
                <h2 id="userEditTitle">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
                <span class="close-user-edit">&times;</span>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editUserId">
                <div class="form-group">
                    <label for="editUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" id="editUsername" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required>
                </div>
                <div class="form-group">
                    <label for="editFullName">–ü–æ–ª–Ω–æ–µ –∏–º—è</label>
                    <input type="text" id="editFullName" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω–æ–µ –∏–º—è">
                </div>
                <div class="form-group">
                    <label for="editPassword">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="editPassword" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                    <small style="color: #666; font-size: 11px;">–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª—å</small>
                </div>
                <div class="form-group">
                    <label for="editRole">–†–æ–ª—å</label>
                    <select id="editRole" class="form-select">
                        <option value="user">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
                        <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                    </select>
                </div>
                <div class="form-group" style="display: flex; gap: 10px;">
                    <button id="saveUserBtn" class="btn-primary" style="flex: 1;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button id="cancelUserEditBtn" class="btn-secondary" style="flex: 1;">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π -->
    <div id="historyModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <div class="modal-header">
                <h2>–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π</h2>
                <span class="close-history">&times;</span>
            </div>
            <div class="modal-body">
                <div class="history-filters">
                    <button class="history-filter-btn active" data-filter="all">–í—Å–µ</button>
                    <button class="history-filter-btn" data-filter="today">–°–µ–≥–æ–¥–Ω—è</button>
                    <button class="history-filter-btn" data-filter="week">–ó–∞ –Ω–µ–¥–µ–ª—é</button>
                    <button class="history-clear-btn" id="clearHistoryBtn" title="–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"></polyline>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                        </svg>
                    </button>
                </div>
                <div id="historyList" class="history-list">
                    <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="auth.js"></script>
    <script src="main.js"></script>
</body>
</html>
